@model List<IssueTracker.Models.IssueChange>
<div class=container>
    
    <h3>History of Issue #<span>@Model.First().IssueId</span></h3>

    <div class="pull-right" style="margin-bottom:8px">
        @Html.ActionLink("Back to details", "Details", "Issue", new { @id = Model.FirstOrDefault().IssueId }, new { @class = "btn btn-default"})
    </div>

    <table class="table table-striped table-bordered table-condensed table-hover">
        <thead class="head-style">
            <tr>
                <th>State</th>
                <th width="25%">Title</th>
                <th width="40%">Description</th>
                <th width="10%">Assignee</th>
                <th width="10%">Changed By</th>
                <th width="15%">Changed At</th>

            </tr>
        </thead>
        <tbody>
            @foreach (var change in Model)
            {
                <tr>
                    <td>@change.State.State</td>
                    <td>@change.Title</td>
                    <td>@change.Description</td>
                    @if (change.AssigneeId == null)
                    {
                        <td></td>
                    }
                    else
                    {
                        <td>@change.Assignee.FullName</td>
                    }
                    <td>@change.ChangedBy.FullName</td>
                    <td>@change.ChangedAtDate</td>
                </tr>
            }
        </tbody>
    </table>
</div>
